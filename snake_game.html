<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced Snake Game</title>
    <style>
        #game-board {
            width: 1000px;
            height: 1000px;
            border: 1px solid black;
            position: relative;
            overflow: hidden;
        }
        .snake-part {
            width: 20px;
            height: 20px;
            background-color: green;
            position: absolute;
        }
        .food {
            width: 20px;
            height: 20px;
            background-color: red;
            position: absolute;
        }
    </style>
    <script>
        class SnakeGame {
            constructor() {
                this.gridSize = 20;
                this.snake = [{ x: 10, y: 10 }];
                this.food = this.generateFood();
                this.direction = 'right';
                this.gameBoard = document.getElementById('game-board');
                this.interval = setInterval(() => this.tick(), 100);
                document.addEventListener('keydown', (e) => this.handleKeydown(e));
                this.render(); // Initial render
            }

            generateFood() {
                const x = Math.floor(Math.random() * this.gridSize);
                const y = Math.floor(Math.random() * this.gridSize);
                return { x, y };
            }

            move() {
                const head = this.snake[0];
                let newHead = { ...head };

                switch (this.direction) {
                    case 'left': newHead.x = (newHead.x - 1 + this.gridSize) % this.gridSize; break;
                    case 'right': newHead.x = (newHead.x + 1) % this.gridSize; break;
                    case 'up': newHead.y = (newHead.y - 1 + this.gridSize) % this.gridSize; break;
                    case 'down': newHead.y = (newHead.y + 1) % this.gridSize; break;
                }

                this.snake.unshift(newHead);
                this.snake.pop();
            }

            tick() {
                this.move();
                this.render();
            }

            handleKeydown(event) {
                switch (event.key) {
                    case 'ArrowLeft': this.direction = 'left'; break;
                    case 'ArrowRight': this.direction = 'right'; break;
                    case 'ArrowUp': this.direction = 'up'; break;
                    case 'ArrowDown': this.direction = 'down'; break;
                }
            }

            render() {
                this.gameBoard.innerHTML = '';

                // Render snake
                this.snake.forEach(part => {
                    const snakePartElement = document.createElement('div');
                    snakePartElement.style.left = part.x * 20 + 'px';
                    snakePartElement.style.top = part.y * 20 + 'px';
                    snakePartElement.className = 'snake-part';
                    this.gameBoard.appendChild(snakePartElement);
                });

                // Render food
                const foodElement = document.createElement('div');
                foodElement.style.left = this.food.x * 20 + 'px';
                foodElement.style.top = this.food.y * 20 + 'px';
                foodElement.className = 'food';
                this.gameBoard.appendChild(foodElement);
            }
        }

        window.addEventListener('DOMContentLoaded', () => {
            const startButton = document.getElementById('start-button');
            startButton.addEventListener('click', () => {
                new SnakeGame();
                startButton.disabled = true; // Disable the start button after starting the game
            });
        });
    </script>
</head>
<body>
    <button id="start-button">Start Game</button>
    <div id="game-board"></div>
</body>
</html>
